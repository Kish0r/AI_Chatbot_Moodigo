<!-- templates/chatbot/resources.html -->
{% extends 'chatbot/base.html' %}

{% block title %}Mental Health Resources - Moodigo{% endblock %}

{% block extra_css %}
<style>
    .resource-card {
        border: none;
        border-radius: 16px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
        height: 100%;
    }
    
    .resource-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    }
    
    .crisis-card {
        border: 2px solid #ef4444;
        background: linear-gradient(135deg, #fef2f2, #fee2e2);
        animation: pulseRed 3s infinite;
    }
    
    .crisis-card:hover {
        border-color: #dc2626;
        background: linear-gradient(135deg, #fee2e2, #fca5a5);
    }
    
    @keyframes pulseRed {
        0%, 100% { border-color: #ef4444; }
        50% { border-color: #dc2626; }
    }
    
    .fun-card {
        border: 2px solid #10b981;
        background: linear-gradient(135deg, #f0fdf4, #dcfce7);
    }
    
    .fun-card:hover {
        border-color: #059669;
        background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    }
    
    .wellness-card {
        border: 2px solid #3b82f6;
        background: linear-gradient(135deg, #eff6ff, #dbeafe);
    }
    
    .wellness-card:hover {
        border-color: #1d4ed8;
        background: linear-gradient(135deg, #dbeafe, #bfdbfe);
    }
    
    .learning-card {
        border: 2px solid #f59e0b;
        background: linear-gradient(135deg, #fffbeb, #fef3c7);
    }
    
    .learning-card:hover {
        border-color: #d97706;
        background: linear-gradient(135deg, #fef3c7, #fde68a);
    }
    
    .resource-icon {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }
    
    .crisis-icon {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        color: white;
    }
    
    .fun-icon {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
    }
    
    .wellness-icon {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
    }
    
    .learning-icon {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
    }
    
    .emergency-banner {
        background: linear-gradient(135deg, #dc2626, #ef4444);
        color: white;
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 2rem;
        text-align: center;
        animation: emergencyPulse 2s infinite;
    }
    
    @keyframes emergencyPulse {
        0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
        50% { box-shadow: 0 0 0 20px rgba(239, 68, 68, 0); }
    }
    
    .quick-exit-btn {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #dc2626;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 8px;
        font-weight: bold;
        z-index: 9999;
        transition: all 0.3s ease;
    }
    
    .quick-exit-btn:hover {
        background: #991b1b;
        transform: scale(1.05);
    }
    
    .search-box {
        background: rgba(102, 126, 234, 0.1);
        border: 1px solid var(--primary-color);
        border-radius: 25px;
        padding: 0.75rem 1.5rem;
    }
    
    .search-box:focus {
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
        border-color: var(--primary-color);
    }
    
    .filter-btn {
        border-radius: 20px;
        padding: 0.5rem 1rem;
        border: 2px solid transparent;
        transition: all 0.3s ease;
        margin: 0.25rem;
    }
    
    .filter-btn.active {
        transform: scale(1.05);
    }
    
    .filter-btn.crisis.active {
        background: #ef4444;
        border-color: #ef4444;
        color: white;
    }
    
    .filter-btn.fun.active {
        background: #10b981;
        border-color: #10b981;
        color: white;
    }
    
    .filter-btn.wellness.active {
        background: #3b82f6;
        border-color: #3b82f6;
        color: white;
    }
    
    .filter-btn.learning.active {
        background: #f59e0b;
        border-color: #f59e0b;
        color: white;
    }
    
    .filter-btn.all.active {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
    }
    
    .resource-tag {
        display: inline-block;
        background: rgba(0, 0, 0, 0.1);
        color: #374151;
        padding: 0.25rem 0.75rem;
        border-radius: 15px;
        font-size: 0.75rem;
        margin: 0.25rem 0.25rem 0 0;
        font-weight: 500;
    }
    
    .activity-challenge {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(34, 197, 94, 0.1));
        border-radius: 16px;
        padding: 2rem;
        margin-bottom: 2rem;
        border: 1px solid #10b981;
    }
    
    .youtube-embed {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        border-radius: 12px;
        overflow: hidden;
    }
    
    .youtube-embed iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    
    @media (max-width: 768px) {
        .emergency-banner {
            padding: 1.5rem;
        }
        
        .emergency-banner .btn {
            width: 100%;
            margin: 0.25rem 0;
        }
        
        .quick-exit-btn {
            right: 10px;
            top: 10px;
            padding: 8px 12px;
            font-size: 0.9rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Quick Exit Button -->
<button class="quick-exit-btn" onclick="quickExit()" title="Quick Exit (Press ESC)">
    <i class="bi bi-x-circle-fill me-1"></i>Quick Exit
</button>

<div class="container">
    <!-- Emergency Banner -->
    <div class="emergency-banner">
        <h2 class="fw-bold mb-3">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            In Crisis? Get Help Now
        </h2>
        <p class="lead mb-4">
            If you or someone you know is in immediate danger or having thoughts of self-harm, 
            please reach out for help immediately. You are not alone.
        </p>
        <div class="d-flex flex-wrap justify-content-center gap-2">
            <a href="tel:988" class="btn btn-light btn-lg">
                <i class="bi bi-telephone-fill me-2"></i>
                988 Suicide & Crisis Lifeline
            </a>
            <a href="tel:911" class="btn btn-outline-light btn-lg">
                <i class="bi bi-telephone me-2"></i>
                911 Emergency
            </a>
            <a href="sms:741741?body=HOME" class="btn btn-outline-light btn-lg">
                <i class="bi bi-chat-dots me-2"></i>
                Text HOME to 741741
            </a>
        </div>
    </div>
    
    <!-- Header -->
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold mb-2">
            <i class="bi bi-life-preserver text-primary me-2"></i>
            Mental Health Resources
        </h1>
        <p class="lead text-muted">Crisis support, wellness activities, and tools for your mental health journey</p>
    </div>
    
    <!-- Search and Filter -->
    <div class="row mb-4">
        <div class="col-md-8 mb-3">
            <input type="text" class="form-control search-box" id="resourceSearch" 
                   placeholder="🔍 Search for resources, activities, or support services...">
        </div>
        <div class="col-md-4">
            <div class="d-flex flex-wrap justify-content-center">
                <button class="filter-btn btn btn-outline-primary all active" data-filter="all">All</button>
                <button class="filter-btn btn btn-outline-danger crisis" data-filter="crisis">Crisis</button>
                <button class="filter-btn btn btn-outline-success fun" data-filter="fun">Fun & Games</button>
                <button class="filter-btn btn btn-outline-info wellness" data-filter="wellness">Wellness</button>
                <button class="filter-btn btn btn-outline-warning learning" data-filter="learning">Learning</button>
            </div>
        </div>
    </div>
    
    <!-- Daily Challenge -->
    <div class="activity-challenge">
        <h4 class="text-success fw-bold mb-3">
            <i class="bi bi-star-fill me-2"></i>
            Today's Wellness Challenge
        </h4>
        <div class="row align-items-center">
            <div class="col-md-8">
                <p class="mb-2" id="dailyChallenge">Take 5 deep breaths using the 4-7-8 technique: inhale for 4, hold for 7, exhale for 8.</p>
                <small class="text-muted">✨ Research shows this reduces stress and anxiety in under 2 minutes!</small>
            </div>
            <div class="col-md-4 text-center">
                <button class="btn btn-success" onclick="newChallenge()">
                    <i class="bi bi-arrow-repeat me-1"></i>New Challenge
                </button>
            </div>
        </div>
    </div>

    <!-- Crisis Support Resources -->
    <div id="crisis-resources" class="mb-5">
        <h3 class="mb-4 text-danger">
            <i class="bi bi-shield-exclamation me-2"></i>
            Crisis Support Resources
        </h3>
        <div class="row" id="crisisResourcesContainer">
            <!-- US Crisis Resources -->
            <div class="col-lg-6 mb-4 resource-item" data-type="crisis">
                <div class="resource-card crisis-card card">
                    <div class="card-body p-4">
                        <div class="crisis-icon resource-icon">
                            <i class="bi bi-telephone-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold text-danger">988 Suicide & Crisis Lifeline</h5>
                        <p class="card-text text-muted">Free and confidential emotional support 24/7 for people in suicidal crisis or emotional distress. Call, text, or chat.</p>
                        
                        <div class="d-flex flex-wrap gap-2 mt-3">
                            <a href="tel:988" class="btn btn-danger">
                                <i class="bi bi-telephone me-1"></i> Call 988
                            </a>
                            <a href="sms:988" class="btn btn-outline-danger">
                                <i class="bi bi-chat me-1"></i> Text 988
                            </a>
                            <a href="https://988lifeline.org/chat/" target="_blank" class="btn btn-outline-danger">
                                <i class="bi bi-globe me-1"></i> Chat Online
                            </a>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">24/7 Available</div>
                            <div class="resource-tag">Free</div>
                            <div class="resource-tag">Confidential</div>
                            <div class="resource-tag">English/Spanish</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Crisis Text Line -->
            <div class="col-lg-6 mb-4 resource-item" data-type="crisis">
                <div class="resource-card crisis-card card">
                    <div class="card-body p-4">
                        <div class="crisis-icon resource-icon">
                            <i class="bi bi-chat-dots-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold text-danger">Crisis Text Line</h5>
                        <p class="card-text text-muted">Text-based crisis support. Trained counselors respond in under 5 minutes. Specialized support for students of color available.</p>
                        
                        <div class="d-flex flex-wrap gap-2 mt-3">
                            <a href="sms:741741?body=HOME" class="btn btn-danger">
                                <i class="bi bi-chat me-1"></i> Text HOME to 741741
                            </a>
                            <a href="sms:741741?body=STEVE" class="btn btn-outline-danger">
                                <i class="bi bi-people me-1"></i> Text STEVE (Students of Color)
                            </a>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">24/7 Available</div>
                            <div class="resource-tag">Text-based</div>
                            <div class="resource-tag">Under 5 min response</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- International Crisis Resources -->
            <div class="col-lg-6 mb-4 resource-item" data-type="crisis">
                <div class="resource-card crisis-card card">
                    <div class="card-body p-4">
                        <div class="crisis-icon resource-icon">
                            <i class="bi bi-globe"></i>
                        </div>
                        <h5 class="card-title fw-bold text-danger">International Crisis Support</h5>
                        <p class="card-text text-muted">Crisis support for international students and those outside the US.</p>
                        
                        <div class="mt-3">
                            <div class="mb-2">
                                <strong>UK:</strong> <a href="tel:116123" class="text-danger">Samaritans - 116 123</a>
                            </div>
                            <div class="mb-2">
                                <strong>Australia:</strong> <a href="tel:131114" class="text-danger">Lifeline - 13 11 14</a>
                            </div>
                            <div class="mb-2">
                                <strong>Canada:</strong> <a href="tel:988" class="text-danger">9-8-8</a>
                            </div>
                            <div class="mb-2">
                                <strong>UK Text:</strong> <a href="sms:85258?body=SHOUT" class="text-danger">SHOUT to 85258</a>
                            </div>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">24/7 Available</div>
                            <div class="resource-tag">Multiple Countries</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Campus Crisis Resources -->
            <div class="col-lg-6 mb-4 resource-item" data-type="crisis">
                <div class="resource-card crisis-card card">
                    <div class="card-body p-4">
                        <div class="crisis-icon resource-icon">
                            <i class="bi bi-building"></i>
                        </div>
                        <h5 class="card-title fw-bold text-danger">Campus Crisis Support</h5>
                        <p class="card-text text-muted">Most universities offer 24/7 crisis support through campus police and counseling centers.</p>
                        
                        <div class="d-flex flex-wrap gap-2 mt-3">
                            <button class="btn btn-danger" onclick="showToast('Contact your campus police or student emergency line. Check your student portal for specific numbers.', 'info')">
                                <i class="bi bi-shield me-1"></i> Campus Emergency
                            </button>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Usually 24/7</div>
                            <div class="resource-tag">Often Free</div>
                            <div class="resource-tag">Student-Focused</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fun & Stress Relief Games -->
    <div id="fun-resources" class="mb-5">
        <h3 class="mb-4 text-success">
            <i class="bi bi-controller me-2"></i>
            Fun & Stress Relief Activities
        </h3>
        <div class="row" id="funResourcesContainer">
            <!-- Drawing Games -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-palette-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Skribbl.io</h5>
                        <p class="card-text text-muted">Multiplayer drawing and guessing game. Draw pictures while others guess - guaranteed laughs!</p>
                        
                        <a href="https://skribbl.io/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-play-fill me-1"></i> Play Now
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Multiplayer</div>
                            <div class="resource-tag">Creative</div>
                            <div class="resource-tag">Free</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Draw -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-pencil-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Quick, Draw!</h5>
                        <p class="card-text text-muted">AI guesses your drawings in 20 seconds. Celebrate imperfect art and have fun!</p>
                        
                        <a href="https://quickdraw.withgoogle.com/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-play-fill me-1"></i> Start Drawing
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">AI-Powered</div>
                            <div class="resource-tag">Quick</div>
                            <div class="resource-tag">Google</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Little Alchemy -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-gem"></i>
                        </div>
                        <h5 class="card-title fw-bold">Little Alchemy 2</h5>
                        <p class="card-text text-muted">Combine elements to create new items. Meditative and surprisingly addictive discovery game.</p>
                        
                        <a href="https://littlealchemy2.com/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-play-fill me-1"></i> Start Creating
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Meditative</div>
                            <div class="resource-tag">Discovery</div>
                            <div class="resource-tag">580+ Elements</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Collaborative Drawing -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-people-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Magma Studio</h5>
                        <p class="card-text text-muted">Draw collaboratively with friends in real-time. 2M+ user community of positive creators.</p>
                        
                        <a href="https://magma.com/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-brush me-1"></i> Draw Together
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Collaborative</div>
                            <div class="resource-tag">Real-time</div>
                            <div class="resource-tag">Community</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Geography Games -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-globe2"></i>
                        </div>
                        <h5 class="card-title fw-bold">Geotastic</h5>
                        <p class="card-text text-muted">Free GeoGuessr alternative. Explore beautiful locations worldwide and guess where you are.</p>
                        
                        <a href="https://geotastic.de/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-map me-1"></i> Explore World
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Geography</div>
                            <div class="resource-tag">Free</div>
                            <div class="resource-tag">Educational</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Puzzles -->
            <div class="col-lg-3 col-md-6 mb-4 resource-item" data-type="fun">
                <div class="resource-card fun-card card">
                    <div class="card-body p-4 text-center">
                        <div class="fun-icon resource-icon mx-auto">
                            <i class="bi bi-puzzle-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Jigsaw Planet</h5>
                        <p class="card-text text-muted">Meditative jigsaw puzzles online. Choose difficulty and beautiful images for stress relief.</p>
                        
                        <a href="https://www.jigsawplanet.com/" target="_blank" class="btn btn-success btn-sm">
                            <i class="bi bi-puzzle me-1"></i> Start Puzzle
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Meditative</div>
                            <div class="resource-tag">Customizable</div>
                            <div class="resource-tag">Relaxing</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Wellness & Mindfulness -->
    <div id="wellness-resources" class="mb-5">
        <h3 class="mb-4 text-primary">
            <i class="bi bi-heart-pulse me-2"></i>
            Wellness & Mindfulness
        </h3>
        <div class="row" id="wellnessResourcesContainer">
            <!-- Breathing Exercises -->
            <div class="col-lg-6 mb-4 resource-item" data-type="wellness">
                <div class="resource-card wellness-card card">
                    <div class="card-body p-4">
                        <div class="wellness-icon resource-icon">
                            <i class="bi bi-lungs-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">5-Minute Breathing Exercises</h5>
                        <p class="card-text text-muted">Science-backed breathing techniques proven to reduce stress and anxiety immediately.</p>
                        
                        <div class="mt-3">
                            <div class="mb-3">
                                <strong>4-7-8 Technique:</strong> Inhale 4, hold 7, exhale 8 (repeat 4 times)
                            </div>
                            <div class="mb-3">
                                <strong>Cyclic Sighing:</strong> Deep inhale through nose, longer exhale through mouth
                            </div>
                            <div class="mb-3">
                                <strong>Box Breathing:</strong> Inhale 4, hold 4, exhale 4, hold 4
                            </div>
                        </div>
                        
                        <a href="https://ggia.berkeley.edu/practice/mindful_breathing" target="_blank" class="btn btn-primary">
                            <i class="bi bi-play-circle me-1"></i> Guided Practice
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Stanford Research</div>
                            <div class="resource-tag">5 Minutes</div>
                            <div class="resource-tag">Immediate Relief</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mindfulness Activities -->
            <div class="col-lg-6 mb-4 resource-item" data-type="wellness">
                <div class="resource-card wellness-card card">
                    <div class="card-body p-4">
                        <div class="wellness-icon resource-icon">
                            <i class="bi bi-eye-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">5-4-3-2-1 Grounding Technique</h5>
                        <p class="card-text text-muted">Quick overwhelm relief using your senses. Perfect for anxiety and panic moments.</p>
                        
                        <div class="mt-3">
                            <div class="mb-2"><strong>5</strong> things you can see</div>
                            <div class="mb-2"><strong>4</strong> things you can touch</div>
                            <div class="mb-2"><strong>3</strong> things you can hear</div>
                            <div class="mb-2"><strong>2</strong> things you can smell</div>
                            <div class="mb-2"><strong>1</strong> thing you can taste</div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="startGroundingExercise()">
                            <i class="bi bi-play-circle me-1"></i> Start Exercise
                        </button>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Under 3 Minutes</div>
                            <div class="resource-tag">Anxiety Relief</div>
                            <div class="resource-tag">Anywhere</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- YouTube Wellness Channels -->
            <div class="col-lg-4 mb-4 resource-item" data-type="wellness">
                <div class="resource-card wellness-card card">
                    <div class="card-body p-4 text-center">
                        <div class="wellness-icon resource-icon mx-auto">
                            <i class="bi bi-youtube"></i>
                        </div>
                        <h5 class="card-title fw-bold">Lofi Girl</h5>
                        <p class="card-text text-muted">24/7 chill beats perfect for studying, relaxing, and background focus music.</p>
                        
                        <a href="https://www.youtube.com/@LofiGirl" target="_blank" class="btn btn-primary btn-sm">
                            <i class="bi bi-youtube me-1"></i> Listen Now
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">24/7 Stream</div>
                            <div class="resource-tag">14.9M Subscribers</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 mb-4 resource-item" data-type="wellness">
                <div class="resource-card wellness-card card">
                    <div class="card-body p-4 text-center">
                        <div class="wellness-icon resource-icon mx-auto">
                            <i class="bi bi-person-arms-up"></i>
                        </div>
                        <h5 class="card-title fw-bold">Yoga with Adriene</h5>
                        <p class="card-text text-muted">Beginner-friendly yoga and movement for stress relief. "Find what feels good" philosophy.</p>
                        
                        <a href="https://www.youtube.com/@yogawithadriene" target="_blank" class="btn btn-primary btn-sm">
                            <i class="bi bi-youtube me-1"></i> Practice Now
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Beginner-Friendly</div>
                            <div class="resource-tag">Stress Relief</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 mb-4 resource-item" data-type="wellness">
                <div class="resource-card wellness-card card">
                    <div class="card-body p-4 text-center">
                        <div class="wellness-icon resource-icon mx-auto">
                            <i class="bi bi-moon-stars-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Nature Sounds</h5>
                        <p class="card-text text-muted">8+ hour nature videos in 4K for sleep, focus, and relaxation. Rain, ocean, and forest sounds.</p>
                        
                        <a href="https://www.youtube.com/@RelaxingWhiteNoise" target="_blank" class="btn btn-primary btn-sm">
                            <i class="bi bi-youtube me-1"></i> Listen Now
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">8+ Hours</div>
                            <div class="resource-tag">Sleep Aid</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Learning & Creative Tools -->
    <div id="learning-resources" class="mb-5">
        <h3 class="mb-4 text-warning">
            <i class="bi bi-mortarboard me-2"></i>
            Learning & Creative Tools
        </h3>
        <div class="row" id="learningResourcesContainer">
            <!-- Khan Academy -->
            <div class="col-lg-6 mb-4 resource-item" data-type="learning">
                <div class="resource-card learning-card card">
                    <div class="card-body p-4">
                        <div class="learning-icon resource-icon">
                            <i class="bi bi-book-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">Khan Academy (2025 Updates)</h5>
                        <p class="card-text text-muted">Free world-class education with new AI tutoring through Khanmigo and personalized learning dashboards.</p>
                        
                        <a href="https://www.khanacademy.org/" target="_blank" class="btn btn-warning">
                            <i class="bi bi-graduation-cap me-1"></i> Start Learning
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">AI Tutoring</div>
                            <div class="resource-tag">Free</div>
                            <div class="resource-tag">All Subjects</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Free Online Courses -->
            <div class="col-lg-6 mb-4 resource-item" data-type="learning">
                <div class="resource-card learning-card card">
                    <div class="card-body p-4">
                        <div class="learning-icon resource-icon">
                            <i class="bi bi-laptop"></i>
                        </div>
                        <h5 class="card-title fw-bold">Free Online Courses</h5>
                        <p class="card-text text-muted">2000+ completely free courses from top universities. Audit mode gives unlimited access time.</p>
                        
                        <div class="d-flex flex-wrap gap-2 mt-3">
                            <a href="https://www.coursera.org/courses?query=free" target="_blank" class="btn btn-warning btn-sm">
                                <i class="bi bi-mortarboard me-1"></i> Coursera Free
                            </a>
                            <a href="https://www.edx.org/course" target="_blank" class="btn btn-outline-warning btn-sm">
                                <i class="bi bi-book me-1"></i> edX Courses
                            </a>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">University Level</div>
                            <div class="resource-tag">2000+ Courses</div>
                            <div class="resource-tag">Certificates Available</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Creative Tools -->
            <div class="col-lg-4 mb-4 resource-item" data-type="learning">
                <div class="resource-card learning-card card">
                    <div class="card-body p-4 text-center">
                        <div class="learning-icon resource-icon mx-auto">
                            <i class="bi bi-brush-fill"></i>
                        </div>
                        <h5 class="card-title fw-bold">AutoDraw</h5>
                        <p class="card-text text-muted">AI-assisted drawing that turns your sketches into clean art. Reduces drawing anxiety!</p>
                        
                        <a href="https://autodraw.com/" target="_blank" class="btn btn-warning btn-sm">
                            <i class="bi bi-pencil me-1"></i> Start Drawing
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">AI-Assisted</div>
                            <div class="resource-tag">Google</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 mb-4 resource-item" data-type="learning">
                <div class="resource-card learning-card card">
                    <div class="card-body p-4 text-center">
                        <div class="learning-icon resource-icon mx-auto">
                            <i class="bi bi-film"></i>
                        </div>
                        <h5 class="card-title fw-bold">Brush Ninja</h5>
                        <p class="card-text text-muted">Create simple animated GIFs in your browser. Perfect for immediate creative satisfaction!</p>
                        
                        <a href="https://brush.ninja/" target="_blank" class="btn btn-warning btn-sm">
                            <i class="bi bi-play me-1"></i> Create GIF
                        </a>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Animation</div>
                            <div class="resource-tag">Simple</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-4 mb-4 resource-item" data-type="learning">
                <div class="resource-card learning-card card">
                    <div class="card-body p-4 text-center">
                        <div class="learning-icon resource-icon mx-auto">
                            <i class="bi bi-translate"></i>
                        </div>
                        <h5 class="card-title fw-bold">Language Learning</h5>
                        <p class="card-text text-muted">Free language learning alternatives with video-based content and native speakers.</p>
                        
                        <div class="d-flex flex-wrap gap-1 mt-3">
                            <a href="https://www.memrise.com/" target="_blank" class="btn btn-warning btn-sm">
                                Memrise
                            </a>
                            <a href="https://librelingo.app/" target="_blank" class="btn btn-outline-warning btn-sm">
                                LibreLingo
                            </a>
                        </div>
                        
                        <div class="mt-2">
                            <div class="resource-tag">Free Options</div>
                            <div class="resource-tag">Video-Based</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Call to Action -->
    <div class="text-center mb-5">
        <div class="card border-0 bg-primary text-white">
            <div class="card-body p-4">
                <h4 class="mb-3">Remember: You Are Not Alone</h4>
                <p class="mb-4">
                    Mental health challenges are common and treatable. Seeking help is a sign of strength, not weakness.
                    Start with small steps - even 5 minutes of breathing exercises can make a difference.
                </p>
                <div class="d-flex flex-wrap justify-content-center gap-2">
                    <a href="{% url 'chat' %}" class="btn btn-light btn-lg">
                        <i class="bi bi-chat-dots me-2"></i>
                        Talk to Moodigo
                    </a>
                    <a href="{% url 'assessment' %}" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-clipboard-check me-2"></i>
                        Take Assessment
                    </a>
                    <a href="{% url 'mood_tracker' %}" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-heart me-2"></i>
                        Track Your Mood
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Daily Challenges Array
    const dailyChallenges = [
        "Take 5 deep breaths using the 4-7-8 technique: inhale for 4, hold for 7, exhale for 8.",
        "Find 5 things around you that you've never noticed before.",
        "Write a 6-word story about your day.",
        "Take a photo of something that makes you smile and share why.",
        "Send an encouraging text to a friend or family member.",
        "Listen to your favorite song and really focus on the lyrics.",
        "Do 10 jumping jacks or stretch for 2 minutes.",
        "Write down 3 things you're grateful for today.",
        "Look out a window for 2 minutes and observe nature or people.",
        "Call someone you haven't spoken to in a while.",
        "Try cooking or making something simple with your hands.",
        "Practice the 5-4-3-2-1 grounding technique.",
        "Watch a funny video or look at memes for 5 minutes.",
        "Organize one small area of your space.",
        "Learn one new fact about something you're interested in."
    ];
    
    // Search functionality
    const searchInput = document.getElementById('resourceSearch');
    const resourceItems = document.querySelectorAll('.resource-item');
    
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        
        resourceItems.forEach(item => {
            const title = item.querySelector('.card-title').textContent.toLowerCase();
            const description = item.querySelector('.card-text').textContent.toLowerCase();
            
            if (title.includes(searchTerm) || description.includes(searchTerm)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });
    
    // Filter functionality
    const filterButtons = document.querySelectorAll('.filter-btn');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Remove active class from all buttons
            filterButtons.forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            this.classList.add('active');
            
            const filter = this.dataset.filter;
            
            resourceItems.forEach(item => {
                if (filter === 'all' || item.dataset.type === filter) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
    
    // Quick Exit functionality
    function quickExit() {
        // Open multiple tabs and close current
        window.open('https://www.google.com', '_blank');
        window.open('https://www.wikipedia.org', '_blank');
        window.location.replace('https://www.google.com');
    }
    
    // ESC key for quick exit
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            quickExit();
        }
    });
    
    // New Challenge functionality
    function newChallenge() {
        const randomChallenge = dailyChallenges[Math.floor(Math.random() * dailyChallenges.length)];
        document.getElementById('dailyChallenge').textContent = randomChallenge;
        showToast('New challenge loaded! 🌟', 'success');
    }
    
    // Grounding Exercise
    function startGroundingExercise() {
        const steps = [
            "Look around and name 5 things you can see...",
            "Now touch 4 different textures around you...",
            "Listen carefully and identify 3 sounds you can hear...",
            "Take a moment to notice 2 things you can smell...",
            "Finally, focus on 1 thing you can taste...",
            "Great job! You've completed the 5-4-3-2-1 grounding exercise. How do you feel?"
        ];
        
        let currentStep = 0;
        
        function showNextStep() {
            if (currentStep < steps.length) {
                showToast(steps[currentStep], 'info', 4000);
                currentStep++;
                if (currentStep < steps.length - 1) {
                    setTimeout(showNextStep, 4500);
                } else {
                    setTimeout(showNextStep, 6000);
                }
            }
        }
        
        showNextStep();
    }
    
    // Toast function (if not already defined)
    function showToast(message, type = 'info', duration = 3000) {
        const toast = document.createElement('div');
        toast.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
        toast.style.cssText = `
            top: 80px; 
            right: 20px; 
            z-index: 9999; 
            min-width: 300px;
            max-width: 400px;
        `;
        toast.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        document.body.appendChild(toast);
        
        // Auto remove
        setTimeout(() => {
            if (toast.parentNode) {
                toast.parentNode.removeChild(toast);
            }
        }, duration);
    }
    
    // Track resource clicks for analytics
    document.querySelectorAll('.resource-card a').forEach(link => {
        link.addEventListener('click', function() {
            const resourceTitle = this.closest('.resource-card').querySelector('.card-title').textContent;
            const resourceType = this.closest('.resource-item').dataset.type;
            console.log(`Resource clicked: ${resourceTitle} (${resourceType})`);
            
            // You can add analytics tracking here
            // gtag('event', 'resource_click', {
            //     resource_name: resourceTitle,
            //     resource_type: resourceType
            // });
        });
    });
    
    // Load random daily challenge on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Set random challenge if none is set
        if (document.getElementById('dailyChallenge').textContent.includes('Take 5 deep breaths')) {
            // Keep default for first load, but can randomize if desired
        }
        
        // Add smooth scrolling for all anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    });
</script>
{% endblock %}